<!DOCTYPE html>
<html lang="zh-TW" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Ogani Template">
    <meta name="keywords" content="Ogani, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>小農商品</title>

    <div th:replace="/css.html"></div>
    <link rel="stylesheet" href="/css/supplier.css" type="text/css">

    <style>

        .section {
            padding: 20px 20px;
            position: relative;
            border-radius: 20px;
            box-shadow: rgb(204, 219, 232) 3px 3px 6px 0px inset, rgba(255, 255, 255, 0.5) -3px -3px 6px 1px inset;
        }

        .gray-bg {
            background-color: #f5f5f5;
        }


        .farmerImg {
            border-radius: 50%;
            width: 130px;
            height: 130px;
            margin-bottom: 10px;
            box-shadow: rgba(136, 165, 191, 0.48) 6px 2px 16px 0px, rgba(255, 255, 255, 0.8) -6px -2px 16px 0px;
        }

        .about-list {
            padding-top: 10px;
        }


        .about-list label {
            white-space: nowrap;
            color: #54d05b;
            margin-right: 15px;

        }


        .about-section .counter {
            padding: 22px 20px;
            background: #ffffff;
            border-radius: 10px;
            /*box-shadow: 0 0 30px rgba(31, 45, 61, 0.125);*/
            box-shadow: rgba(136, 165, 191, 0.48) 6px 2px 16px 0px, rgba(255, 255, 255, 0.8) -6px -2px 16px 0px;
        }

        .about-section .counter .count-data {
            margin-top: 10px;
            margin-bottom: 10px;
        }

        .about-section .counter .count {
            font-weight: 700;
            color: #54d05b;
            margin: 0 0 5px;
        }

        .media > span, .text-center > h4 {
            color: #6f6f6f;
        }

        .text-center > h4 {
            white-space: nowrap;
        }


    </style>


</head>

<body>
<div th:replace="/header.html"></div>
<div th:replace="/menu.html"></div>


<!-- Product Section Begin -->
<section class="product spad">
    <div class="container">
        <div class="section-title product__discount__title">
            <h2 th:text="|${farmer.farmerName} 賣場|">小農廠商</h2>
        </div>
        <div class="product__discount">
            <section class="section about-section gray-bg" id="about">
                <div class="container">
                    <div class="row align-items-center">
                        <div class="col-lg-2 text-center ">
                            <img class="farmerImg" th:src="${farmer.imageUrl}">
                            <h4 th:text="${farmer.farmerName}">聖德小農</h4>
                        </div>
                        <div class="about-text go-to col-lg-6">
                            <div class=" about-list">
                                <div class="col-12">
                                    <div class="media">
                                        <label><i class="fa-solid fa-envelope"></i></label>
                                        <span th:text="${farmer.email}"></span>
                                    </div>
                                    <div class="media">
                                        <label><i class="fa-solid fa-map-location-dot"></i></label>
                                        <span th:text="${farmer.address}"></span>
                                    </div>
                                    <div class="media">
                                        <label><i class="fa-solid fa-circle-info"></i></label>
                                        <span th:text="${farmer.farmerInfo}"></span>
                                    </div>

                                </div>

                            </div>
                        </div>
                        <div class="counter col-lg-4">
                            <div class="row">
                                <div class=" col-lg-6">
                                    <div class="count-data text-center">
                                        <h6 class="count h2" data-to="500" data-speed="500">500</h6>
                                        <p class="m-0px font-w-600">商品總數</p>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="count-data text-center">
                                        <h6 class="count h2" data-to="150" data-speed="150">150</h6>
                                        <p class="m-0px font-w-600">平均評價</p>
                                    </div>
                                </div>

                            </div>
                        </div>

                    </div>

                </div>
            </section>

        </div>
        <hr>
        <div class="row">
            <div class="col-lg-3 col-md-5">
                <div class="sidebar">
                    <div class="sidebar__item">
                        <h4>商品類型</h4>
                        <ul>
                            <li><a th:onclick='showByType("全部")'>全部</a></li>
                            <li><a th:onclick='showByType("蔬菜類")'>蔬菜類</a></li>
                            <li><a th:onclick='showByType("水果類")'>水果類</a></li>
                            <li><a th:onclick='showByType("牛奶類")'>牛奶類</a></li>
                            <li><a th:onclick='showByType("茶葉類")'>茶葉類</a></li>
                            <li><a th:onclick='showByType("咖啡豆類")'>咖啡豆類</a></li>
                        </ul>
                    </div>

                    <div class="sidebar__item">
                        <div class="latest-product__text">
                            <h4>熱銷商品</h4>
                            <div class="latest-product__slider owl-carousel">
                                <div class="latest-prdouct__slider__item">
                                    <a href="#" class="latest-product__item">
                                        <div class="latest-product__item__pic">
                                            <img src="/img/latest-product/lp-1.jpg" alt="">
                                        </div>
                                        <div class="latest-product__item__text">
                                            <h6>Crab Pool Security</h6>
                                            <span>$30.00</span>
                                        </div>
                                    </a>

                                </div>
                                <div class="latest-prdouct__slider__item">
                                    <a href="#" class="latest-product__item">
                                        <div class="latest-product__item__pic">
                                            <img src="/img/latest-product/lp-1.jpg" alt="">
                                        </div>
                                        <div class="latest-product__item__text">
                                            <h6>Crab Pool Security</h6>
                                            <span>$30.00</span>
                                        </div>
                                    </a>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--         右邊-->
            <div class="col-lg-9 col-md-7">

                <!--              右邊下面的排序那排開始-->


                <div class="row">

                    <div class="col-lg-4 col-md-4">
                        <div class="filter__found" id="countDiv">
                            <h6>共 <span th:text="${farmerProductBeanList.size()}"></span>項商品</h6>
                        </div>
                    </div>

                </div>
                <!--              右邊下面的商品開始-->
                <div class="row" id="productContent">
                    <div class="col-lg-4 col-md-6 col-sm-6" th:each="bean:${farmerProductBeanList}">
                        <div class="product__item">
                            <div class="product__item__pic set-bg"
                                 th:data-setbg="${not #lists.isEmpty(bean.farmerProductPicList)}?${bean.farmerProductPicList[0].pictureLink }:'/img/logo6.png'">
                                <ul class="product__item__pic__hover">
                                    <li><a href="#"><i class="fa fa-heart"></i></a></li>
                                    <li><a href="#"><i class="fa fa-retweet"></i></a></li>
                                    <li><a href="#" th:onclick="|add('F',${bean.farmerProductId})|"><i
                                            class="fa fa-shopping-cart"></i></a></li>
                                </ul>
                            </div>
                            <div class="product__item__text">
                                <h6>
                                    <a th:href="@{/FarmerProductShop/ShopDetails/{farmerProductId}(farmerProductId=${bean.farmerProductId})}"
                                       th:text="${bean.name}"></a>
                                </h6>
                                <h5 th:text="|NT$${bean.price}|"></h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product__pagination">
                    <a href="#">1</a>
                    <a href="#">2</a>
                    <a href="#">3</a>
                    <a href="#"><i class="fa fa-long-arrow-right"></i></a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Product Section End -->

<div th:replace="/footer.html"></div>

<script>


    //類型
    function showByType(type) {
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                let result = JSON.parse(xhr.responseText);
                let data = ``;
                for (let i = 0; i < result.length; i++) {
                    data += `<div class="col-lg-4 col-md-6 col-sm-6" >
                        <div class="product__item">
                            <div class="product__item__pic set-bg" style="background-image: url('${result[i].farmerProductPicList[0].pictureLink}')">
                                <ul class="product__item__pic__hover">
                                    <li><a href="#"><i class="fa fa-heart"></i></a></li>
                                    <li><a href="#"><i class="fa fa-retweet"></i></a></li>
                                    <li><a href="#"><i class="fa fa-shopping-cart"></i></a></li>
                                </ul>
                            </div>
                            <div class="product__item__text">
                                <h6><a href="/FarmerProductShop/ShopDetails/${result[i].farmerProductId}">${result[i].name}</a>
                                </h6>
                                <h5 >NT$${result[i].price}</h5>
                            </div>
                        </div>
                    </div>`
                }
                $("#productContent").html(data);
                $("#countDiv").html(`<h6>共 <span>${result.length}</span>項商品</h6>`)
            } else if (xhr.status === 400) {
                Swal.fire(
                    '錯誤!',
                    json.message,
                    'error'
                )
            }
        }
        xhr.open("GET", '[[@{/FarmerProducts/}]]' + type, true);
        xhr.send();


    }


</script>


</body>

</html>