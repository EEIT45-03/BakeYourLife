<!DOCTYPE html>
<html lang="zh-TW" xmlns:th="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <meta name="description" content="Ogani Template">
    <meta name="keywords" content="Ogani, unica, creative, html">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>小農商品</title>

    <div th:replace="/css.html"></div>
    <link rel="stylesheet" href="/css/supplier.css" type="text/css">
    <style>
        .imgBlock {
            margin: 0 auto;
        }

        .profile {
            padding: 15px;
            /*height: 200px;*/
        }

        .profile-card {
            height: 200px;
            position: relative;
            overflow: hidden;
            margin-bottom: 10px;
            box-shadow: rgba(17, 17, 26, 0.1) 0px 4px 16px, rgba(17, 17, 26, 0.05) 0px 8px 32px;
            border-radius: 20px;
        }

        .profile-card:hover .profile-img img {
            transform: scale(1.2);
        }

        .profile-card .profile-img img {
            width: 70%;
            height: 200px;
            object-fit: cover;
            transition: transform 1s;
        }


        .profile-card .profile-content {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 200px;
            padding: 50% 4%;
            text-align: center;

        }

        .profile-card .profile-content:hover {
            background-color: rgba(64, 115, 53, 0.8);
        }

        .profile-card .profile-content .title {
            font-weight: bolder;
            font-size: 24px;
            color: #fff;
            text-shadow: black 0.1em 0.1em 0.2em;
            opacity: 0;
            letter-spacing: 2px;
            text-transform: uppercase;
            transform: translateY(-100px);
            transition: all 500ms cubic-bezier(0.68, -0.55, 0.265, 1.55) 0.10s;
        }

        .profile-card:hover .title {
            opacity: 1;
            transform: translateY(-60px);
        }

        .profile-card:hover .title::after {
            content: "";
            display: block;
            width: 50%;
            margin: 10px auto;
            border-bottom: 2px solid #fff;
        }

        .profile-card .profile-content .title > span {
            display: block;
            margin: 5px 0;
            font-size: 14px;
            text-transform: capitalize;
        }


    </style>

</head>

<body>
<div th:replace="/header.html"></div>
<div th:replace="/menu.html"></div>


<!-- Product Section Begin -->
<section class="product spad">
    <div class="container">
        <div class="product__discount">
            <div class="section-title from-blog__title">
                <h2>小農廠商</h2>
            </div>

            <div class="row">

                <div class="product__discount__slider owl-carousel">
                    <a th:href="@{ShopGrid/{farmetId}(farmetId=${farmer.farmerId})}" th:each=" farmer:${farmerList}">
                        <div class="col-lg-4 profile">
                            <div class="profile-card">
                                <div class="profile-img ">
                                    <img class="imgBlock" th:src="${farmer.imageUrl}">
                                </div>
                                <div class="profile-content">
                                    <h2 class="title"> 前往賣場 <i class="fa-solid fa-angles-right"></i></h2>
                                </div>
                            </div>
                        </div>
                    </a>

                </div>
            </div>
        </div>
        <hr>
        <div class="section-title from-blog__title">
            <h2>小農商品</h2>
        </div>
        <div class="row">
            <div class="col-lg-3 col-md-5">
                <div class="sidebar">
                    <div class="sidebar__item">
                        <h4>商品類型</h4>
                        <ul>
                            <li><a th:onclick='showByType("全部")'>全部</a></li>
                            <li><a th:onclick='showByType("蔬菜類")'>蔬菜類</a></li>
                            <li><a th:onclick='showByType("水果類")'>水果類</a></li>
                            <li><a th:onclick='showByType("牛奶類")'>牛奶類</a></li>
                            <li><a th:onclick='showByType("茶葉類")'>茶葉類</a></li>
                            <li><a th:onclick='showByType("咖啡豆類")'>咖啡豆類</a></li>
                        </ul>
                    </div>

                    <div class="sidebar__item">
                        <div class="latest-product__text">
                            <h4>熱銷商品</h4>
                            <div class="latest-product__slider owl-carousel">
                                <div class="latest-prdouct__slider__item">
                                    <a href="#" class="latest-product__item">
                                        <div class="latest-product__item__pic">
                                            <img src="/img/latest-product/lp-1.jpg" alt="">
                                        </div>
                                        <div class="latest-product__item__text">
                                            <h6>Crab Pool Security</h6>
                                            <span>$30.00</span>
                                        </div>
                                    </a>

                                </div>
                                <div class="latest-prdouct__slider__item">
                                    <a href="#" class="latest-product__item">
                                        <div class="latest-product__item__pic">
                                            <img src="/img/latest-product/lp-1.jpg" alt="">
                                        </div>
                                        <div class="latest-product__item__text">
                                            <h6>Crab Pool Security</h6>
                                            <span>$30.00</span>
                                        </div>
                                    </a>

                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!--         右邊-->
            <div class="col-lg-9 col-md-7">

                <!--              右邊下面的排序那排開始-->


                <div class="row">

                    <div class="col-lg-4 col-md-4">
                        <div class="filter__found" id="countDiv">
                            <h6>共 <span th:text="${farmerProductBeanList.size()}"></span>項商品</h6>
                        </div>
                    </div>

                </div>
                <!--              右邊下面的商品開始-->
                <div class="row" id="productContent">
                    <div class="col-lg-4 col-md-6 col-sm-6" th:each="bean:${farmerProductBeanList}">
                        <div class="product__item">
                            <div class="product__item__pic set-bg"
                                 th:data-setbg="${not #lists.isEmpty(bean.farmerProductPicList)}?${bean.farmerProductPicList[0].pictureLink }:'/img/logo6.png'">
                                <ul class="product__item__pic__hover">
                                    <li><a href="#"><i class="fa fa-heart"></i></a></li>
                                    <li><a href="#"><i class="fa fa-retweet"></i></a></li>
                                    <li><a href="#" th:onclick="|add('F',${bean.farmerProductId})|"><i
                                            class="fa fa-shopping-cart"></i></a></li>
                                </ul>
                            </div>
                            <div class="product__item__text">
                                <h6>
                                    <a th:href="@{ShopDetails/{farmerProductId}(farmerProductId=${bean.farmerProductId})}"
                                       th:text="${bean.name}"></a>
                                </h6>
                                <h5 th:text="|NT$${bean.price}|"></h5>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="product__pagination">
                    <a href="#">1</a>
                    <a href="#">2</a>
                    <a href="#">3</a>
                    <a href="#"><i class="fa fa-long-arrow-right"></i></a>
                </div>
            </div>

        </div>
    </div>
</section>
<!-- Product Section End -->

<div th:replace="/footer.html"></div>

<script>


    //類型
    function showByType(type) {
        var xhr = new XMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && xhr.status === 200) {
                let result = JSON.parse(xhr.responseText);
                let data = ``;
                for (let i = 0; i < result.length; i++) {
                    data += `<div class="col-lg-4 col-md-6 col-sm-6" >
                        <div class="product__item">
                            <div class="product__item__pic set-bg" style="background-image: url('${result[i].farmerProductPicList[0].pictureLink}')">
                                <ul class="product__item__pic__hover">
                                    <li><a href="#"><i class="fa fa-heart"></i></a></li>
                                    <li><a href="#"><i class="fa fa-retweet"></i></a></li>
                                    <li><a href="#"><i class="fa fa-shopping-cart"></i></a></li>
                                </ul>
                            </div>
                            <div class="product__item__text">
                                <h6><a href="/FarmerProductShop/ShopDetails/${result[i].farmerProductId}">${result[i].name}</a>
                                </h6>
                                <h5 >NT$${result[i].price}</h5>
                            </div>
                        </div>
                    </div>`
                }
                $("#productContent").html(data);
                $("#countDiv").html(`<h6>共 <span>${result.length}</span>項商品</h6>`)
            } else if (xhr.status === 400) {
                Swal.fire(
                    '錯誤!',
                    json.message,
                    'error'
                )
            }
        }
        xhr.open("GET", '[[@{/FarmerProducts/}]]' + type, true);
        xhr.send();


    }


</script>


</body>

</html>